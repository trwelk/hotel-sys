{"ast":null,"code":"var _jsxFileName = \"D:\\\\ReactWorkspace\\\\hotel-sys\\\\src\\\\components\\\\hr\\\\employee\\\\EmployeeList.js\";\nimport React from 'react';\nimport MaterialTable from 'material-table';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { useSelector, connect } from 'react-redux';\nimport { compose } from 'redux';\n\nfunction EmployeeList(props) {\n  const {\n    useState\n  } = React;\n  const [columns, setColumns] = useState([{\n    title: 'Employee ID',\n    field: 'employeeid'\n  }, {\n    title: 'Employee Name',\n    field: 'name'\n  }, {\n    title: 'Employee Salary',\n    field: 'salary'\n  }, {\n    title: 'Description',\n    field: 'descriptions'\n  }]);\n  const employees = useSelector(state => state.firestore.ordered.employee);\n  const data = employees ? employees.map(employee => ({ ...employee\n  })) : null;\n  const table = data ? /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"EmployeeList Preview\",\n    columns: columns,\n    data: data,\n    editable: {\n      onRowAdd: newData => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          //setData([...data, newData]);\n          props.insertRoomType(newData);\n          resolve();\n        }, 1000);\n      }),\n      onRowUpdate: (newData, oldData) => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          const dataUpdate = [...data];\n          const index = oldData.tableData.id;\n          dataUpdate[index] = newData; //setData([...dataUpdate]);\n\n          console.log(newData, oldData);\n          props.updateRoomType(newData);\n          resolve();\n        }, 1000);\n      }),\n      onRowDelete: oldData => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          const dataDelete = [...data];\n          const index = oldData.tableData.id;\n          dataDelete.splice(index, 1); //setData([...dataDelete]);\n\n          console.log(oldData);\n          props.deleteRoomType(oldData.id);\n          resolve();\n        }, 1000);\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 10\n    }\n  }, \"Loading\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, table);\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateRoomType: payload => dispatch(updateRoomType(payload)),\n    insertRoomType: payload => dispatch(insertRoomType(payload)),\n    deleteRoomType: roomId => dispatch(deleteRoomType(roomId))\n  };\n};\n\nexport default compose(connect(null, mapDispatchToProps), firestoreConnect([{\n  collection: 'employee'\n}]))(EmployeeList);","map":{"version":3,"sources":["D:/ReactWorkspace/hotel-sys/src/components/hr/employee/EmployeeList.js"],"names":["React","MaterialTable","firestoreConnect","useSelector","connect","compose","EmployeeList","props","useState","columns","setColumns","title","field","employees","state","firestore","ordered","employee","data","map","table","onRowAdd","newData","Promise","resolve","reject","setTimeout","insertRoomType","onRowUpdate","oldData","dataUpdate","index","tableData","id","console","log","updateRoomType","onRowDelete","dataDelete","splice","deleteRoomType","mapDispatchToProps","dispatch","payload","roomId","collection"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport MaterialTable from 'material-table'\r\nimport { firestoreConnect } from 'react-redux-firebase';\r\nimport { useSelector, connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\n\r\nfunction EmployeeList(props) {\r\n \r\n    const { useState } = React;\r\n    const [columns, setColumns] = useState([\r\n      { title: 'Employee ID', field: 'employeeid' },\r\n      { title: 'Employee Name', field: 'name' },\r\n      { title: 'Employee Salary', field: 'salary'},\r\n      {\r\n        title: 'Description',\r\n        field: 'descriptions',\r\n      },\r\n    ]); \r\n    const employees = useSelector(state => state.firestore.ordered.employee)\r\n    const data = employees ? (employees.map(employee => ({...employee}))) : (null)\r\n    const table = data ? (\r\n        <MaterialTable\r\n        title=\"EmployeeList Preview\"\r\n        columns={columns}\r\n        data={data}\r\n        editable={{\r\n          onRowAdd: newData =>\r\n            new Promise((resolve, reject) => {\r\n              setTimeout(() => {\r\n                //setData([...data, newData]);\r\n                props.insertRoomType(newData)\r\n                resolve();\r\n              }, 1000)\r\n            }),\r\n          onRowUpdate: (newData, oldData) =>\r\n            new Promise((resolve, reject) => {\r\n              setTimeout(() => {\r\n                const dataUpdate = [...data];\r\n                const index = oldData.tableData.id;\r\n                dataUpdate[index] = newData;\r\n                //setData([...dataUpdate]);\r\n                console.log(newData,oldData)\r\n                props.updateRoomType(newData)\r\n                resolve();\r\n              }, 1000)\r\n            }),\r\n          onRowDelete: oldData =>\r\n            new Promise((resolve, reject) => {\r\n              setTimeout(() => {\r\n                const dataDelete = [...data];\r\n                const index = oldData.tableData.id;\r\n                dataDelete.splice(index, 1);\r\n                //setData([...dataDelete]);\r\n                console.log(oldData)\r\n                props.deleteRoomType(oldData.id)\r\n                resolve()\r\n              }, 1000)\r\n            }),\r\n        }}\r\n      />\r\n    ) : (<div>Loading</div>)\r\n\r\n\r\n  \r\n\r\n  \r\n    return(\r\n        <div>\r\n             {table}\r\n        </div>\r\n       \r\n        )\r\n  }\r\n \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateRoomType: (payload) => dispatch(updateRoomType(payload)),\r\n        insertRoomType: (payload) => dispatch(insertRoomType(payload)),\r\n        deleteRoomType: (roomId) => dispatch(deleteRoomType(roomId))\r\n\r\n\r\n    }\r\n}\r\n  export default compose(connect(null,mapDispatchToProps),firestoreConnect([\r\n    {collection: 'employee'}\r\n  ])) (EmployeeList)"]},"metadata":{},"sourceType":"module"}